import{b as g,o as c,c as p,a as o,l as m,B as d,u as n,S as B,t as i,C as b,E as y,O as E,d as _,F as $,j as I,R as O,U as k,G as w,W as j}from"./main-Cb0PFlp0.js";import{E as N}from"./card-B08ajyLB.js";import{E as T}from"./index-B8oPdYJ_.js";import"./vnode-Jytc64K1.js";import"./event-BB_Ol6Sd.js";import"./validator-BkWg9Q-T.js";const V={class:"output mt-2 relative"},R={class:"cursor-pointer absolute top-3 right-2.5"},S={__name:"Output",props:{command:Object},setup(s){const a=s,e=g(()=>a.command.output||a.command.error),u=()=>{delete a.command.output,delete a.command.error};return(l,f)=>{const t=y;return c(),p("div",V,[o("div",{class:b(["terminal",{error:s.command.error}])},[o("span",R,[m(t,{onClick:u},{default:d(()=>[m(n(B))]),_:1})]),o("pre",null,i(n(e)),1)],2)])}}},F={class:"flex"},L={class:"text-lg"},U={__name:"Command",props:{data:Object},setup(s){const e=E(s.data);function u(t){t.running=!0,t.dangerous?T.confirm(t.dangerous,t.name,{confirmButtonText:t.actionButton,cancelButtonText:"Cancel",confirmButtonClass:"el-button--danger"}).then(()=>{l(t)}).catch(()=>t.running=!1):l(t)}function l(t){Invicta.fetch.get(t.runUrl).then(({data:r})=>{Invicta.message(r.message),t.running=!1,t.output=r.output,t.error=r.error})}const f=g(()=>e.output||e.error);return(t,r)=>{const h=O,x=k,C=S,v=N;return c(),_(v,{class:"command"},{default:d(()=>[o("div",F,[m(h,{icon:n(e).icon,class:"command-icon mr-2 opacity-50"},null,8,["icon"]),o("div",null,[o("h3",L,i(n(e).name),1),o("p",null,i(n(e).description),1)]),m(x,{type:n(e).dangerous?"danger":"primary",class:"self-center w-32 ml-auto",onClick:r[0]||(r[0]=A=>u(n(e))),loading:n(e).running},{default:d(()=>[$(i(n(e).actionButton),1)]),_:1},8,["type","loading"])]),n(f)?(c(),_(C,{key:0,command:n(e)},null,8,["command"])):I("",!0)]),_:1})}}},z={class:"py-6 px-10 max-w-5xl mx-auto"},J=Object.assign({beforeRouteEnter:async function(s){let a=await Invicta.fetch.get(`api${s.path}`);s.meta.data=a}},{__name:"CommandsIndex",props:{commands:Array},setup(s){return Invicta.pageTitle("Commands"),(a,e)=>{const u=U;return c(),p("div",z,[e[0]||(e[0]=o("div",{class:"mb-4"},[o("h1",null,"Registered Commands"),o("p",{class:"info"},"List of registered artisan, or shell commands")],-1)),(c(!0),p(w,null,j(s.commands,l=>(c(),_(u,{data:l,class:"mb-4"},null,8,["data"]))),256))])}}});export{J as default};

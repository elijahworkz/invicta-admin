const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/assetField-evo367kf.js","assets/dropdown-menu-BVI0Wl79.js","assets/main-Gom_X7XC.js","assets/main-CQkpqjZ-.css","assets/Loading-C6aktGFb.js","assets/event-BB_Ol6Sd.js","assets/Loading-DMko4YwJ.css","assets/vnode-Cs930f0e.js","assets/dropdown-menu-FyJ2TEY3.css","assets/AssetForm-Ymvv0WmG.js","assets/AssetForm-CctfFtGL.css","assets/FieldBase-B__KXuFD.js","assets/field-BIfiLAjy.js","assets/index-Dk4goyhf.js","assets/validator-CNQ_n1RJ.js","assets/isString-DeC8ACer.js","assets/card-DTfKIn5u.js","assets/card-D34vavgk.css","assets/assetField-BkjgguNb.css","assets/blueprintField-DSLQ8lUA.js","assets/checkboxGroupField-NBjsvTGc.js","assets/checkboxGroupField-DNmEmEf6.css","assets/codeField-CmJBYpBW.js","assets/codeField-Crb83HLy.css","assets/copyField-BgKr0FFo.js","assets/dateField-pNitac3Y.js","assets/dateField-B6Nwj7fx.css","assets/dividerField-ClY4Rshk.js","assets/dividerField-Cb-skUuy.css","assets/googlePreviewField-BCig0YIL.js","assets/googlePreviewField-X1H7GG9J.css","assets/groupSelectField-f2VRuMdv.js","assets/hiddenField-DeQno4lj.js","assets/infoPanelField-B7qyjcYR.js","assets/itemsListField-CukyVOdS.js","assets/ItemsList-bMcf30rI.js","assets/vuedraggable.umd-C7vMuthG.js","assets/link-VapjO03O.js","assets/link-Dt0mxaDW.css","assets/ItemsList-Du7UpnpG.css","assets/jsonField-Bqg4CgKb.js","assets/keyValueField-DfIM76a6.js","assets/keyValueField-JgmDjP7S.css","assets/linkField-BqLCujqI.js","assets/metaField-wsmUsQCV.js","assets/metaField-BS4Wreev.css","assets/numberField-D5gYOUrh.js","assets/numberField-CWqCFpc2.css","assets/radioGroupField-cVliVxaG.js","assets/radioGroupField-BppKV64B.css","assets/rateField-Bm5VhEhj.js","assets/rateField-NURucKWf.css","assets/relatedListField-C59U3nJm.js","assets/relatedSelectField-BTNyXam9.js","assets/relatedSelectField--pxSjDvT.css","assets/repeaterField-BgaoV8qi.js","assets/rowField-BApaTtxs.js","assets/selectField-F0h9bFrC.js","assets/slugField-C5_z9aZ5.js","assets/tableField-CZaj6-13.js","assets/loading-CR7m-vIa.js","assets/loading-oV0W9nDj.css","assets/tagsField-3RksQvet.js","assets/tagsField-D-RY0ExH.css","assets/termsField-MSQLFJCc.js","assets/termsField-C-0YJyLo.css","assets/textEditorField-dwCvQNfp.js","assets/textField-D6ddCZDC.js","assets/textareaField-xrAnlNXA.js","assets/toggleField-BZY9s3eD.js","assets/switch-0H-UYtx4.js","assets/switch-Bttmon0I.css","assets/videoField-CSEEkSxQ.js"])))=>i.map(i=>d[i]);
import{ah as hasPath,ai as baseGet,aj as isObjectLike,ak as baseGetTag,al as castPath,am as toKey,an as flatRest,ao as arrayMap,ap as toString,aq as baseToString,ar as shallowRef,as as triggerRef,h as onMounted,s as defineComponent,a8 as h,at as isVNode,m as buildProps,au as useSizeProp,ab as isString,av as isNumber,aw as isBoolean,g as ref,ax as inject,b as computed,ay as isPropAbsent,az as useFormSize,aA as useFormDisabled,aB as useDeprecated,x as useNamespace,o as openBlock,c as createElementBlock,a as createBaseVNode,i as withDirectives,aC as vModelRadio,u as unref,ag as isRef,C as normalizeClass,aD as withModifiers,D as renderSlot,F as createTextVNode,t as toDisplayString,K as _export_sfc,aa as nextTick,Q as normalizeStyle,aE as useAriaProps,aF as useId,aG as useFormItem,aH as useFormItemInputId,aI as provide,O as reactive,a6 as toRefs,w as watch,aJ as debugWarn,L as withInstall,aK as withNoopInstall,aL as useTooltipTriggerProps,aM as dropdownProps,aN as useTooltipContentProps,aO as addUnit,d as createBlock,B as withCtx,j as createCommentVNode,aP as mergeProps,aQ as ElTooltip,aR as withInstallDirective,aS as definePropType,aT as throwError,aU as useResizeObserver,aV as onBeforeUnmount,q as isUndefined,aW as useDocumentVisibility,aX as useWindowFocus,aY as onUpdated,l as createVNode,E as ElIcon,a1 as arrow_left_default,aZ as arrow_right_default,S as close_default,a_ as EVENT_CODE,a$ as plus_default,b0 as getCurrentInstance,v as useSlots,b1 as computedEager,b2 as onBeforeUpdate,H as vShow,Y as useRouter,b3 as get,b4 as set,b5 as toRaw,_ as __variableDynamicImportRuntimeHelper,f as __vitePreload,r as resolveDynamicComponent,G as Fragment,W as renderList,b6 as mdiTextBoxEditOutline,b7 as mdiPlus,X as mdiTranslate,R as _sfc_main$e,b8 as _sfc_main$f,U as ElButton,Z as ElDropdownItem,$ as ElDropdownMenu,a0 as ElDropdown,V as resolveComponent,b9 as onBeforeRouteLeave,ba as onKeyStroke,a2 as arrow_down_default,bb as ElButtonGroup}from"./main-Gom_X7XC.js";import{i as isPlainObject,f as copyObject,g as baseClone,h as isIterateeCall,j as capitalize,a as _sfc_main$b,e as _sfc_main$c,b as _sfc_main$d,c as ElForm}from"./dropdown-menu-BVI0Wl79.js";import{i as isString$1}from"./isString-DeC8ACer.js";import{n as nodeUtil,b as baseUnary,g as getAllKeysIn}from"./Loading-C6aktGFb.js";import{E as ElCard}from"./card-DTfKIn5u.js";import{U as UPDATE_MODEL_EVENT,C as CHANGE_EVENT}from"./event-BB_Ol6Sd.js";import{f as flattedChildren,m as mutable}from"./vnode-Cs930f0e.js";function baseSlice(e,o,t){var a=-1,r=e.length;o<0&&(o=-o>r?0:r+o),t=t>r?r:t,t<0&&(t+=r),r=o>t?0:t-o>>>0,o>>>=0;for(var s=Array(r);++a<r;)s[a]=e[a+o];return s}function castSlice(e,o,t){var a=e.length;return t=t===void 0?a:t,!o&&t>=a?e:baseSlice(e,o,t)}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(e){return reHasUnicode.test(e)}function asciiToArray(e){return e.split("")}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(e){return e.match(reUnicode)||[]}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function last(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseHas(e,o){return e!=null&&hasOwnProperty.call(e,o)}function has(e,o){return e!=null&&hasPath(e,o,baseHas)}function parent(e,o){return o.length<2?e:baseGet(e,baseSlice(o,0,-1))}var regexpTag="[object RegExp]";function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==regexpTag}var nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function baseUnset(e,o){return o=castPath(o,e),e=parent(e,o),e==null||delete e[toKey(last(o))]}function customOmitClone(e){return isPlainObject(e)?void 0:e}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(e,o){var t={};if(e==null)return t;var a=!1;o=arrayMap(o,function(s){return s=castPath(s,e),a||(a=s.length>1),s}),copyObject(e,getAllKeysIn(e),t),a&&(t=baseClone(t,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var r=o.length;r--;)baseUnset(t,o[r]);return t}),MAX_ARRAY_LENGTH=4294967295;function split(e,o,t){return t&&typeof t!="number"&&isIterateeCall(e,o,t)&&(o=t=void 0),t=t===void 0?MAX_ARRAY_LENGTH:t>>>0,t?(e=toString(e),e&&(typeof o=="string"||o!=null&&!isRegExp(o))&&(o=baseToString(o),!o&&hasUnicode(e))?castSlice(stringToArray(e),0,t):e.split(o,t)):[]}const getOrderedChildren=(e,o,t)=>flattedChildren(e.subTree).filter(s=>{var _;return isVNode(s)&&((_=s.type)==null?void 0:_.name)===o&&!!s.component}).map(s=>s.component.uid).map(s=>t[s]).filter(s=>!!s),useOrderedChildren=(e,o)=>{const t=shallowRef({}),a=shallowRef([]),r=new WeakMap,s=c=>{t.value[c.uid]=c,triggerRef(t),onMounted(()=>{const l=c.getVnode().el,d=l.parentNode;if(!r.has(d)){r.set(d,[]);const y=d.insertBefore.bind(d);d.insertBefore=(R,b)=>(r.get(d).some(u=>R===u||b===u)&&triggerRef(t),y(R,b))}r.get(d).push(l)})},_=c=>{delete t.value[c.uid],triggerRef(t);const l=c.getVnode().el,d=l.parentNode,y=r.get(d),R=y.indexOf(l);y.splice(R,1)},v=()=>{a.value=getOrderedChildren(e,o,t.value)},n=c=>c.render(),p=defineComponent({setup(c,{slots:l}){return()=>(v(),l.default?h(n,{render:l.default}):null)}});return{children:a,addChild:s,removeChild:_,ChildrenSorter:p}},radioPropsBase=buildProps({modelValue:{type:[String,Number,Boolean],default:void 0},size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),radioProps=buildProps({...radioPropsBase,border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:e=>isString(e)||isNumber(e)||isBoolean(e),[CHANGE_EVENT]:e=>isString(e)||isNumber(e)||isBoolean(e)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(e,o)=>{const t=ref(),a=inject(radioGroupKey,void 0),r=computed(()=>!!a),s=computed(()=>isPropAbsent(e.value)?e.label:e.value),_=computed({get(){return r.value?a.modelValue:e.modelValue},set(l){r.value?a.changeEvent(l):o&&o(UPDATE_MODEL_EVENT,l),t.value.checked=e.modelValue===s.value}}),v=useFormSize(computed(()=>a==null?void 0:a.size)),n=useFormDisabled(computed(()=>a==null?void 0:a.disabled)),p=ref(!1),c=computed(()=>n.value||r.value&&_.value!==s.value?-1:0);return useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>r.value&&isPropAbsent(e.value))),{radioRef:t,isGroup:r,radioGroup:a,focus:p,size:v,disabled:n,tabIndex:c,modelValue:_,actualValue:s}},__default__$5=defineComponent({name:"ElRadio"}),_sfc_main$a=defineComponent({...__default__$5,props:radioProps,emits:radioEmits,setup(e,{emit:o}){const t=e,a=useNamespace("radio"),{radioRef:r,radioGroup:s,focus:_,size:v,disabled:n,modelValue:p,actualValue:c}=useRadio(t,o);function l(){nextTick(()=>o(CHANGE_EVENT,p.value))}return(d,y)=>{var R;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(a).b(),unref(a).is("disabled",unref(n)),unref(a).is("focus",unref(_)),unref(a).is("bordered",d.border),unref(a).is("checked",unref(p)===unref(c)),unref(a).m(unref(v))])},[createBaseVNode("span",{class:normalizeClass([unref(a).e("input"),unref(a).is("disabled",unref(n)),unref(a).is("checked",unref(p)===unref(c))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":b=>isRef(p)?p.value=b:null,class:normalizeClass(unref(a).e("original")),value:unref(c),name:d.name||((R=unref(s))==null?void 0:R.name),disabled:unref(n),checked:unref(p)===unref(c),type:"radio",onFocus:b=>_.value=!0,onBlur:b=>_.value=!1,onChange:l,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[vModelRadio,unref(p)]]),createBaseVNode("span",{class:normalizeClass(unref(a).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(a).e("label")),onKeydown:withModifiers(()=>{},["stop"])},[renderSlot(d.$slots,"default",{},()=>[createTextVNode(toDisplayString(d.label),1)])],42,["onKeydown"])],2)}}});var Radio=_export_sfc(_sfc_main$a,[["__file","radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase}),__default__$4=defineComponent({name:"ElRadioButton"}),_sfc_main$9=defineComponent({...__default__$4,props:radioButtonProps,setup(e){const o=e,t=useNamespace("radio"),{radioRef:a,focus:r,size:s,disabled:_,modelValue:v,radioGroup:n,actualValue:p}=useRadio(o),c=computed(()=>({backgroundColor:(n==null?void 0:n.fill)||"",borderColor:(n==null?void 0:n.fill)||"",boxShadow:n!=null&&n.fill?`-1px 0 0 0 ${n.fill}`:"",color:(n==null?void 0:n.textColor)||""}));return(l,d)=>{var y;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(t).b("button"),unref(t).is("active",unref(v)===unref(p)),unref(t).is("disabled",unref(_)),unref(t).is("focus",unref(r)),unref(t).bm("button",unref(s))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":R=>isRef(v)?v.value=R:null,class:normalizeClass(unref(t).be("button","original-radio")),value:unref(p),type:"radio",name:l.name||((y=unref(n))==null?void 0:y.name),disabled:unref(_),onFocus:R=>r.value=!0,onBlur:R=>r.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[vModelRadio,unref(v)]]),createBaseVNode("span",{class:normalizeClass(unref(t).be("button","inner")),style:normalizeStyle(unref(v)===unref(p)?unref(c):{}),onKeydown:withModifiers(()=>{},["stop"])},[renderSlot(l.$slots,"default",{},()=>[createTextVNode(toDisplayString(l.label),1)])],46,["onKeydown"])],2)}}});var RadioButton=_export_sfc(_sfc_main$9,[["__file","radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),radioGroupEmits=radioEmits,__default__$3=defineComponent({name:"ElRadioGroup"}),_sfc_main$8=defineComponent({...__default__$3,props:radioGroupProps,emits:radioGroupEmits,setup(e,{emit:o}){const t=e,a=useNamespace("radio"),r=useId(),s=ref(),{formItem:_}=useFormItem(),{inputId:v,isLabeledByFormItem:n}=useFormItemInputId(t,{formItemContext:_}),p=l=>{o(UPDATE_MODEL_EVENT,l),nextTick(()=>o(CHANGE_EVENT,l))};onMounted(()=>{const l=s.value.querySelectorAll("[type=radio]"),d=l[0];!Array.from(l).some(y=>y.checked)&&d&&(d.tabIndex=0)});const c=computed(()=>t.name||r.value);return provide(radioGroupKey,reactive({...toRefs(t),changeEvent:p,name:c})),watch(()=>t.modelValue,()=>{t.validateEvent&&(_==null||_.validate("change").catch(l=>debugWarn()))}),(l,d)=>(openBlock(),createElementBlock("div",{id:unref(v),ref_key:"radioGroupRef",ref:s,class:normalizeClass(unref(a).b("group")),role:"radiogroup","aria-label":unref(n)?void 0:l.ariaLabel||"radio-group","aria-labelledby":unref(n)?unref(_).labelId:void 0},[renderSlot(l.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var RadioGroup=_export_sfc(_sfc_main$8,[["__file","radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup);withNoopInstall(RadioButton);const popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,triggerKeys:useTooltipTriggerProps.triggerKeys,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":e=>isBoolean(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$2=defineComponent({name:"ElPopover"}),_sfc_main$7=defineComponent({...__default__$2,props:popoverProps,emits:popoverEmits,setup(e,{expose:o,emit:t}){const a=e,r=computed(()=>a[updateEventKeyRaw]),s=useNamespace("popover"),_=ref(),v=computed(()=>{var f;return(f=unref(_))==null?void 0:f.popperRef}),n=computed(()=>[{width:addUnit(a.width)},a.popperStyle]),p=computed(()=>[s.b(),a.popperClass,{[s.m("plain")]:!!a.content}]),c=computed(()=>a.transition===`${s.namespace.value}-fade-in-linear`),l=()=>{var f;(f=_.value)==null||f.hide()},d=()=>{t("before-enter")},y=()=>{t("before-leave")},R=()=>{t("after-enter")},b=()=>{t("update:visible",!1),t("after-leave")};return o({popperRef:v,hide:l}),(f,u)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:_},f.$attrs,{trigger:f.trigger,"trigger-keys":f.triggerKeys,placement:f.placement,disabled:f.disabled,visible:f.visible,transition:f.transition,"popper-options":f.popperOptions,tabindex:f.tabindex,content:f.content,offset:f.offset,"show-after":f.showAfter,"hide-after":f.hideAfter,"auto-close":f.autoClose,"show-arrow":f.showArrow,"aria-label":f.title,effect:f.effect,enterable:f.enterable,"popper-class":unref(p),"popper-style":unref(n),teleported:f.teleported,"append-to":f.appendTo,persistent:f.persistent,"gpu-acceleration":unref(c),"onUpdate:visible":unref(r),onBeforeShow:d,onBeforeHide:y,onShow:R,onHide:b}),{content:withCtx(()=>[f.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(s).e("title")),role:"title"},toDisplayString(f.title),3)):createCommentVNode("v-if",!0),renderSlot(f.$slots,"default",{},()=>[createTextVNode(toDisplayString(f.content),1)])]),default:withCtx(()=>[f.$slots.reference?renderSlot(f.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc(_sfc_main$7,[["__file","popover.vue"]]);const attachEvents=(e,o)=>{const t=o.arg||o.value,a=t==null?void 0:t.popperRef;a&&(a.triggerRef=e)};var PopoverDirective={mounted(e,o){attachEvents(e,o)},updated(e,o){attachEvents(e,o)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])},tabRefs:{type:definePropType(Object),default:()=>mutable({})}}),COMPONENT_NAME$2="ElTabBar",__default__$1=defineComponent({name:COMPONENT_NAME$2}),_sfc_main$6=defineComponent({...__default__$1,props:tabBarProps,setup(e,{expose:o}){const t=e,a=inject(tabsRootContextKey);a||throwError(COMPONENT_NAME$2,"<el-tabs><el-tab-bar /></el-tabs>");const r=useNamespace("tabs"),s=ref(),_=ref(),v=()=>{let d=0,y=0;const R=["top","bottom"].includes(a.props.tabPosition)?"width":"height",b=R==="width"?"x":"y",f=b==="x"?"left":"top";return t.tabs.every(u=>{if(isUndefined(u.paneName))return!1;const i=t.tabRefs[u.paneName];if(!i)return!1;if(!u.active)return!0;d=i[`offset${capitalize(f)}`],y=i[`client${capitalize(R)}`];const P=window.getComputedStyle(i);return R==="width"&&(y-=Number.parseFloat(P.paddingLeft)+Number.parseFloat(P.paddingRight),d+=Number.parseFloat(P.paddingLeft)),!1}),{[R]:`${y}px`,transform:`translate${capitalize(b)}(${d}px)`}},n=()=>_.value=v(),p=[],c=()=>{p.forEach(d=>d.stop()),p.length=0,Object.values(t.tabRefs).forEach(d=>{p.push(useResizeObserver(d,n))})};watch(()=>t.tabs,async()=>{await nextTick(),n(),c()},{immediate:!0});const l=useResizeObserver(s,()=>n());return onBeforeUnmount(()=>{p.forEach(d=>d.stop()),p.length=0,l.stop()}),o({ref:s,update:n}),(d,y)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:s,class:normalizeClass([unref(r).e("active-bar"),unref(r).is(unref(a).props.tabPosition)]),style:normalizeStyle(_.value)},null,6))}});var TabBar=_export_sfc(_sfc_main$6,[["__file","tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(e,o,t)=>t instanceof Event,tabRemove:(e,o)=>o instanceof Event},COMPONENT_NAME$1="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$1,props:tabNavProps,emits:tabNavEmits,setup(e,{expose:o,emit:t}){const a=inject(tabsRootContextKey);a||throwError(COMPONENT_NAME$1,"<el-tabs><tab-nav /></el-tabs>");const r=useNamespace("tabs"),s=useDocumentVisibility(),_=useWindowFocus(),v=ref(),n=ref(),p=ref(),c=ref({}),l=ref(),d=ref(!1),y=ref(0),R=ref(!1),b=ref(!0),f=shallowRef(),u=computed(()=>["top","bottom"].includes(a.props.tabPosition)?"width":"height"),i=computed(()=>({transform:`translate${u.value==="width"?"X":"Y"}(-${y.value}px)`})),P=()=>{if(!v.value)return;const m=v.value[`offset${capitalize(u.value)}`],C=y.value;if(!C)return;const E=C>m?C-m:0;y.value=E},k=()=>{if(!v.value||!n.value)return;const m=n.value[`offset${capitalize(u.value)}`],C=v.value[`offset${capitalize(u.value)}`],E=y.value;if(m-E<=C)return;const $=m-E>C*2?E+C:m-C;y.value=$},g=async()=>{const m=n.value;if(!d.value||!p.value||!v.value||!m)return;await nextTick();const C=c.value[e.currentName];if(!C)return;const E=v.value,$=["top","bottom"].includes(a.props.tabPosition),S=C.getBoundingClientRect(),F=E.getBoundingClientRect(),L=$?m.offsetWidth-F.width:m.offsetHeight-F.height,D=y.value;let B=D;$?(S.left<F.left&&(B=D-(F.left-S.left)),S.right>F.right&&(B=D+S.right-F.right)):(S.top<F.top&&(B=D-(F.top-S.top)),S.bottom>F.bottom&&(B=D+(S.bottom-F.bottom))),B=Math.max(B,0),y.value=Math.min(B,L)},w=()=>{var m;if(!n.value||!v.value)return;e.stretch&&((m=l.value)==null||m.update());const C=n.value[`offset${capitalize(u.value)}`],E=v.value[`offset${capitalize(u.value)}`],$=y.value;E<C?(d.value=d.value||{},d.value.prev=$,d.value.next=$+E<C,C-$<E&&(y.value=C-E)):(d.value=!1,$>0&&(y.value=0))},O=m=>{let C=0;switch(m.code){case EVENT_CODE.left:case EVENT_CODE.up:C=-1;break;case EVENT_CODE.right:case EVENT_CODE.down:C=1;break;default:return}const E=Array.from(m.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let S=E.indexOf(m.target)+C;S<0?S=E.length-1:S>=E.length&&(S=0),E[S].focus({preventScroll:!0}),E[S].click(),I()},I=()=>{b.value&&(R.value=!0)},N=()=>R.value=!1,V=(m,C)=>{c.value[C]=m},T=async()=>{await nextTick();const m=c.value[e.currentName];m==null||m.focus({preventScroll:!0})};return watch(s,m=>{m==="hidden"?b.value=!1:m==="visible"&&setTimeout(()=>b.value=!0,50)}),watch(_,m=>{m?setTimeout(()=>b.value=!0,50):b.value=!1}),useResizeObserver(p,w),onMounted(()=>setTimeout(()=>g(),0)),onUpdated(()=>w()),o({scrollToActiveTab:g,removeFocus:N,focusActiveTab:T,tabListRef:n,tabBarRef:l,scheduleRender:()=>triggerRef(f)}),()=>{const m=d.value?[createVNode("span",{class:[r.e("nav-prev"),r.is("disabled",!d.value.prev)],onClick:P},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[r.e("nav-next"),r.is("disabled",!d.value.next)],onClick:k},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,C=e.panes.map((E,$)=>{var S,F,L,D;const B=E.uid,x=E.props.disabled,z=(F=(S=E.props.name)!=null?S:E.index)!=null?F:`${$}`,M=!x&&(E.isClosable||e.editable);E.index=`${$}`;const U=M?createVNode(ElIcon,{class:"is-icon-close",onClick:A=>t("tabRemove",E,A)},{default:()=>[createVNode(close_default,null,null)]}):null,G=((D=(L=E.slots).label)==null?void 0:D.call(L))||E.props.label,H=!x&&E.active?0:-1;return createVNode("div",{ref:A=>V(A,z),class:[r.e("item"),r.is(a.props.tabPosition),r.is("active",E.active),r.is("disabled",x),r.is("closable",M),r.is("focus",R.value)],id:`tab-${z}`,key:`tab-${B}`,"aria-controls":`pane-${z}`,role:"tab","aria-selected":E.active,tabindex:H,onFocus:()=>I(),onBlur:()=>N(),onClick:A=>{N(),t("tabClick",E,z,A)},onKeydown:A=>{M&&(A.code===EVENT_CODE.delete||A.code===EVENT_CODE.backspace)&&t("tabRemove",E,A)}},[G,U])});return f.value,createVNode("div",{ref:p,class:[r.e("nav-wrap"),r.is("scrollable",!!d.value),r.is(a.props.tabPosition)]},[m,createVNode("div",{class:r.e("nav-scroll"),ref:v},[e.panes.length>0?createVNode("div",{class:[r.e("nav"),r.is(a.props.tabPosition),r.is("stretch",e.stretch&&["top","bottom"].includes(a.props.tabPosition))],ref:n,style:i.value,role:"tablist",onKeydown:O},[e.type?null:createVNode(TabBar,{ref:l,tabs:[...e.panes],tabRefs:c.value},null),C]):null])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=e=>isString(e)||isNumber(e),tabsEmits={[UPDATE_MODEL_EVENT]:e=>isPaneName(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>isPaneName(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>isPaneName(e),tabAdd:()=>!0},Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(e,{emit:o,slots:t,expose:a}){var r;const s=useNamespace("tabs"),_=computed(()=>["left","right"].includes(e.tabPosition)),{children:v,addChild:n,removeChild:p,ChildrenSorter:c}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),l=ref(),d=ref((r=e.modelValue)!=null?r:"0"),y=async(i,P=!1)=>{var k,g,w,O;if(!(d.value===i||isUndefined(i)))try{let I;if(e.beforeLeave){const N=e.beforeLeave(i,d.value);I=N instanceof Promise?await N:N}else I=!0;if(I!==!1){const N=(k=v.value.find(V=>V.paneName===d.value))==null?void 0:k.isFocusInsidePane();d.value=i,P&&(o(UPDATE_MODEL_EVENT,i),o("tabChange",i)),(w=(g=l.value)==null?void 0:g.removeFocus)==null||w.call(g),N&&((O=l.value)==null||O.focusActiveTab())}}catch{}},R=(i,P,k)=>{i.props.disabled||(o("tabClick",i,k),y(P,!0))},b=(i,P)=>{i.props.disabled||isUndefined(i.props.name)||(P.stopPropagation(),o("edit",i.props.name,"remove"),o("tabRemove",i.props.name))},f=()=>{o("edit",void 0,"add"),o("tabAdd")},u=i=>{const P=i.el.firstChild,k=["bottom","right"].includes(e.tabPosition)?i.children[0].el:i.children[1].el;P!==k&&P.before(k)};return watch(()=>e.modelValue,i=>y(i)),watch(d,async()=>{var i;await nextTick(),(i=l.value)==null||i.scrollToActiveTab()}),provide(tabsRootContextKey,{props:e,currentName:d,registerPane:n,unregisterPane:p,nav$:l}),a({currentName:d,get tabNavRef(){return omit(l.value,["scheduleRender"])}}),()=>{const i=t["add-icon"],P=e.editable||e.addable?createVNode("div",{class:[s.e("new-tab"),_.value&&s.e("new-tab-vertical")],tabindex:"0",onClick:f,onKeydown:O=>{[EVENT_CODE.enter,EVENT_CODE.numpadEnter].includes(O.code)&&f()}},[i?renderSlot(t,"add-icon"):createVNode(ElIcon,{class:s.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,k=()=>createVNode(TabNav,{ref:l,currentName:d.value,editable:e.editable,type:e.type,panes:v.value,stretch:e.stretch,onTabClick:R,onTabRemove:b},null),g=createVNode("div",{class:[s.e("header"),_.value&&s.e("header-vertical"),s.is(e.tabPosition)]},[createVNode(c,null,{default:k,$stable:!0}),P]),w=createVNode("div",{class:s.e("content")},[renderSlot(t,"default")]);return createVNode("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}],onVnodeMounted:u,onVnodeUpdated:u},[w,g])}}});var Tabs$1=Tabs;const tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),COMPONENT_NAME="ElTabPane",__default__=defineComponent({name:COMPONENT_NAME}),_sfc_main$5=defineComponent({...__default__,props:tabPaneProps,setup(e){const o=e,t=getCurrentInstance(),a=useSlots(),r=inject(tabsRootContextKey);r||throwError(COMPONENT_NAME,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=useNamespace("tab-pane"),_=ref(),v=ref(),n=computed(()=>o.closable||r.props.closable),p=computedEager(()=>{var b;return r.currentName.value===((b=o.name)!=null?b:v.value)}),c=ref(p.value),l=computed(()=>{var b;return(b=o.name)!=null?b:v.value}),d=computedEager(()=>!o.lazy||c.value||p.value),y=()=>{var b;return(b=_.value)==null?void 0:b.contains(document.activeElement)};watch(p,b=>{b&&(c.value=!0)});const R=reactive({uid:t.uid,getVnode:()=>t.vnode,slots:a,props:o,paneName:l,active:p,index:v,isClosable:n,isFocusInsidePane:y});return r.registerPane(R),onBeforeUnmount(()=>{r.unregisterPane(R)}),onBeforeUpdate(()=>{var b;a.label&&((b=r.nav$.value)==null||b.scheduleRender())}),(b,f)=>unref(d)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(l)}`,ref_key:"paneRef",ref:_,class:normalizeClass(unref(s).b()),role:"tabpanel","aria-hidden":!unref(p),"aria-labelledby":`tab-${unref(l)}`},[renderSlot(b.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[vShow,unref(p)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc(_sfc_main$5,[["__file","tab-pane.vue"]]);const ElTabs=withInstall(Tabs$1,{TabPane}),ElTabPane=withNoopInstall(TabPane),remoteData=new Map,definedForms=new Map,Invicta$1=window.Invicta,useResourceForm=e=>(definedForms.has(e)||definedForms.set(e,defineResourceForm()),definedForms.get(e)),defineResourceForm=e=>{const o=useRouter(),t=ref(null),a={id:null,handle:null,actionUrl:"",mode:"create",currentLocale:"en",blueprint:{}};let r;const s=ref(!1),_={},v=ref(Invicta$1.errors),n=ref(!1),p=ref(!1);async function c(u,i,P={}){var g,w;if(t.value){Invicta$1.emit("resource-form-ready");return}r=P,a.handle=((g=u.meta)==null?void 0:g.handle)??null,a.id=((w=u.meta)==null?void 0:w.id)??null,a.actionUrl=i,a.mode=u.item?"edit":"create",a.blueprint=u.blueprint;let k=toRaw(u.item)??null;t.value=d(u.blueprint,k),b(),Invicta$1.emit("resource-form-ready")}function l(u){a.currentLocale=u}function d(u,i=null){const P=N=>{let V="path"in N?N.path:N.id;V=V.includes(".")?split(V,".")[0]:V;let T="defaultValue"in N?N.defaultValue:null;return i&&V in i?i[V]:T},k=N=>{N.type=="link"&&(remoteData.has("linkField")||remoteData.set("linkField",N.optionsUrl??"/api/fields/resource-link/options")),N.type=="textEditor"&&(remoteData.has("textEditor")||remoteData.set("textEditor","/api/fields/texteditor/resources")),N.type=="asset"&&(remoteData.has("assetActions")||remoteData.set("assetActions","/api/fields/assets/field-actions")),"options"in N&&isString$1(N.options)&&N.type!=="terms"&&(remoteData.has(N.options)||remoteData.set(N.options,N.options))},g=(N,V)=>N.reduce((T,m)=>{if(m.fields){let C=m.id?m.type=="repeater"?`${V}.${m.id}.*`:`${V}.${m.id}`:V,E=g(m.fields,C);return{...T,...E}}else if(m.id)if(_[`${V}.${m.id}`]=m.validation?m.validation:"nullable",m.type.includes("related")){let C=P(m);return T[m.id]=C,T}else k(m)},{}),w={},O=N=>N.reduce((V,T)=>{if(T.id){let m="path"in T?T.path:T.id,C=m.includes(".")?split(m,"."):!1,E=C?C.shift():m;C&&(w[E]=w[E]||{});let $=P(T);if(C&&!i&&($=set(w[E],C,$)),T.type=="toggle"&&typeof $=="number"&&($=!!$),V[E]=$,T.fields){let S=T.type=="repeater"?`${T.id}.*`:T.id,F=g(T.fields,S);V={...V,...F}}else _[m]=T.validation?T.validation:"nullable";if(C&&T.type.includes("related")){let S=C[C.length-1];V[S]=i?i[S]:null}return k(T),V}else if(T.type=="row"){let m=O(T.fields);V={...V,...m}}return V},{});let I={};return u.fields&&(I=O(u.fields)),u.sidebar&&u.sidebar.fields&&(I={...I,...O(u.sidebar.fields)}),u.sections&&u.sections.forEach(N=>{N.fields&&(I={...I,...O(N.fields)})}),I}function y(u){function i(P){return P.map(k=>k.fields?i(k.fields):(("path"in k?k.path:k.id)==u&&(k.readOnly=!0),k)),P}R(i)}function R(u){a.blueprint.fields&&(a.blueprint.fields=u(a.blueprint.fields)),a.blueprint.sidebar&&a.blueprint.sidebar.fields&&(a.blueprint.sidebar.fields=u(a.blueprint.sidebar.fields)),a.blueprint.sections&&a.blueprint.sections.forEach((i,P)=>{i.fields&&(a.blueprint.sections[P].fields=u(i.fields))})}function b(){for(let[u,i]of remoteData)console.log("getRemoteData",u,i),isString$1(i)&&Invicta$1.fetch.get(i).then(P=>{remoteData.set(u,P),Invicta$1.emit(i,!0)})}function f(u,i=!1){let P={fields:t.value,validation:_,...r};console.log("we have form submit",P),Invicta$1.fetch.post(a.actionUrl,P).then(k=>{console.log("post submit result",k),console.log("postSubmitAction",u),Invicta$1.message(k.message),v.value={},Invicta$1.emit("resource-form-submitted",{action:u}),p.value=!1,u=="create"&&(t.value=null,i&&o.push({name:"resourceCreate"})),u=="edit"&&i&&o.push({name:"resourceEdit",params:{id:k.item}}),u=="back"&&i&&o.push({name:"resourceIndex"})}).catch(k=>{const{response:g}=k;if(g.status&&g.status==422){let w={};for(const[O,I]of Object.entries(g.data.errors))w[O]=Array.isArray(I)?I[0]:I;Invicta$1.setErrors(w)}})}return{init:c,get(u,i=null){let P=get(t.value,u,i);return P===null&&i!==void 0?i:P},set(u,i){p.value=!0,set(t.value,u,i)},readOnly:s,processing:n,isDirty:p,errors:v,remoteData,formData:t,settings:a,setReadOnly:y,setLocale:l,submit:f}};function getFields(e){return e.reduce((o,t)=>{if(t.fields){let a=getFields(t.fields);return{...o,...a}}else if(t.id)return o[t.id]="",o;return o},{})}const _sfc_main$4={__name:"TextEditorDrawer",props:{formId:String},setup(e){const t=useResourceForm(e.formId),a=computed(()=>t.remoteData.get("textEditor")),r=ref(!1),s=ref("assets"),_={title:{label:"Title",sortable:!0},uri:{label:"Uri"}};let v="media-item-select";Invicta.on("open-media-library",c=>{v=c.name,s.value="assets",r.value=!0}),Invicta.on("open-resource-links",c=>{v=c.name,s.value="items",r.value=!0});function n(c){Invicta.emit(v,c),r.value=!1}function p(c){Invicta.emit(v,c),r.value=!1}return(c,l)=>{const d=_sfc_main$b,y=_sfc_main$c,R=_sfc_main$d;return unref(r)?(openBlock(),createBlock(R,{key:0,onClose:l[2]||(l[2]=b=>r.value=!1),style:normalizeStyle({width:unref(s)=="assets"?"80%":"500px"})},{default:withCtx(()=>[unref(s)=="assets"?(openBlock(),createBlock(d,{key:0,onSelected:n,onCancel:l[0]||(l[0]=b=>r.value=!1)})):createCommentVNode("",!0),unref(s)=="items"?(openBlock(),createBlock(y,{key:1,"single-select":!0,select:["uri"],columns:_,resources:unref(a),onSelected:p,onCancel:l[1]||(l[1]=b=>r.value=!1)},null,8,["resources"])):createCommentVNode("",!0)]),_:1},8,["style"])):createCommentVNode("",!0)}}},useFieldCondition=(e,o)=>computed(()=>{let t=get(e,"if",null)||get(e,"if_any",null)||get(e,"if_all",null);if(!t)return!0;if(Array.isArray(t)){if("if_all"in e)return t.every(r=>processCondition(o,r));if("if_any"in e){let a=!1;return t.forEach(r=>{processCondition(o,r)&&(a=!0)}),a}}return processCondition(o,t)});function processCondition(formId,condition){const resourceForm=useResourceForm(formId);let target=resourceForm.get(condition.id);console.log("target",target,condition.id);let operator=prepareOperator(condition.operator),loperand=prepareOperand(target,operator),roperand=prepareOperand(condition.value,operator);if(operator=="in"||operator=="not in")return passesIncludesCondition(roperand,loperand,!operator.includes("not"));let expression=`${loperand} ${operator} ${roperand}`;return console.log("condition expression",expression),eval(expression)}function passesIncludesCondition(e,o,t){const a=e.includes(o);return console.log(`is ${o} includes in ${e}: ${a}`),console.log(`included: ${t}`),t?a:!a}function prepareOperand(e,o){return[">",">=","<","<="].includes(o)?Number(e):isString$1(e)?JSON.stringify(e.trim()):e}function prepareOperator(e){switch(e){case"==":case"equal":case"equals":case"is":return"==";case"not equals":case"not equal":return"!==";case">":case"more":case"more than":return">";case">=":case"more or equal":case"more or equals":return">=";case"<":case"less":case"less than":return"<";case"<=":case"less or equal":case"less or equals":return"<=";default:return e}return e}const _sfc_main$3={__name:"FormField",props:{formId:String,fieldData:Object,dataPath:String},setup(e){const o=e;let t=shallowRef("textField");o.dataPath&&o.dataPath.includes(".")?split(o.dataPath,".")[0]:o.dataPath;const a=useFieldCondition(o.fieldData,o.formId);if(a)if(Invicta.componentExists(o.fieldData.type))t.value=o.fieldData.type;else{let _=o.fieldData.type.replace("-","");_=_=="group"?"json":_,__variableDynamicImportRuntimeHelper(Object.assign({"./fields/assetField.vue":()=>__vitePreload(()=>import("./assetField-evo367kf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),"./fields/blueprintField.vue":()=>__vitePreload(()=>import("./blueprintField-DSLQ8lUA.js"),__vite__mapDeps([19,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/checkboxGroupField.vue":()=>__vitePreload(()=>import("./checkboxGroupField-NBjsvTGc.js"),__vite__mapDeps([20,11,2,3,1,4,5,6,7,8,12,15,16,17,21])),"./fields/codeField.vue":()=>__vitePreload(()=>import("./codeField-CmJBYpBW.js"),__vite__mapDeps([22,11,2,3,1,4,5,6,7,8,12,15,16,17,23])),"./fields/copyField.vue":()=>__vitePreload(()=>import("./copyField-BgKr0FFo.js"),__vite__mapDeps([24,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/dateField.vue":()=>__vitePreload(()=>import("./dateField-pNitac3Y.js"),__vite__mapDeps([25,11,2,3,1,4,5,6,7,8,12,15,16,17,26])),"./fields/dividerField.vue":()=>__vitePreload(()=>import("./dividerField-ClY4Rshk.js"),__vite__mapDeps([27,2,3,15,28])),"./fields/googlePreviewField.vue":()=>__vitePreload(()=>import("./googlePreviewField-BCig0YIL.js"),__vite__mapDeps([29,2,3,1,4,5,6,7,8,15,16,17,30])),"./fields/groupSelectField.vue":()=>__vitePreload(()=>import("./groupSelectField-f2VRuMdv.js"),__vite__mapDeps([31,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/hiddenField.vue":()=>__vitePreload(()=>import("./hiddenField-DeQno4lj.js"),__vite__mapDeps([32,12,2,3,1,4,5,6,7,8,15,16,17])),"./fields/infoPanelField.vue":()=>__vitePreload(()=>import("./infoPanelField-B7qyjcYR.js"),__vite__mapDeps([33,2,3])),"./fields/itemsListField.vue":()=>__vitePreload(()=>import("./itemsListField-CukyVOdS.js"),__vite__mapDeps([34,11,2,3,1,4,5,6,7,8,12,35,36,37,38,39,15,16,17])),"./fields/jsonField.vue":()=>__vitePreload(()=>import("./jsonField-Bqg4CgKb.js"),__vite__mapDeps([40,12,2,3,1,4,5,6,7,8,15,16,17])),"./fields/keyValueField.vue":()=>__vitePreload(()=>import("./keyValueField-DfIM76a6.js"),__vite__mapDeps([41,11,2,3,1,4,5,6,7,8,12,15,16,17,42])),"./fields/linkField.vue":()=>__vitePreload(()=>import("./linkField-BqLCujqI.js"),__vite__mapDeps([43,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/metaField.vue":()=>__vitePreload(()=>import("./metaField-wsmUsQCV.js"),__vite__mapDeps([44,11,2,3,1,4,5,6,7,8,12,15,16,17,45])),"./fields/numberField.vue":()=>__vitePreload(()=>import("./numberField-D5gYOUrh.js"),__vite__mapDeps([46,11,2,3,1,4,5,6,7,8,12,15,16,17,47])),"./fields/radioGroupField.vue":()=>__vitePreload(()=>import("./radioGroupField-cVliVxaG.js"),__vite__mapDeps([48,11,2,3,1,4,5,6,7,8,12,15,16,17,49])),"./fields/rateField.vue":()=>__vitePreload(()=>import("./rateField-Bm5VhEhj.js"),__vite__mapDeps([50,11,2,3,1,4,5,6,7,8,12,15,16,17,51])),"./fields/relatedListField.vue":()=>__vitePreload(()=>import("./relatedListField-C59U3nJm.js"),__vite__mapDeps([52,11,2,3,1,4,5,6,7,8,12,35,36,37,38,39,15,16,17])),"./fields/relatedSelectField.vue":()=>__vitePreload(()=>import("./relatedSelectField-BTNyXam9.js"),__vite__mapDeps([53,11,2,3,1,4,5,6,7,8,12,15,16,17,54])),"./fields/repeaterField.vue":()=>__vitePreload(()=>import("./repeaterField-BgaoV8qi.js"),__vite__mapDeps([55,11,2,3,1,4,5,6,7,8,12,36,15,16,17])),"./fields/rowField.vue":()=>__vitePreload(()=>import("./rowField-BApaTtxs.js"),__vite__mapDeps([56,2,3,1,4,5,6,7,8,15,16,17])),"./fields/selectField.vue":()=>__vitePreload(()=>import("./selectField-F0h9bFrC.js"),__vite__mapDeps([57,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/slugField.vue":()=>__vitePreload(()=>import("./slugField-C5_z9aZ5.js"),__vite__mapDeps([58,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/tableField.vue":()=>__vitePreload(()=>import("./tableField-CZaj6-13.js"),__vite__mapDeps([59,2,3,60,61,1,4,5,6,7,8])),"./fields/tagsField.vue":()=>__vitePreload(()=>import("./tagsField-3RksQvet.js"),__vite__mapDeps([62,11,2,3,1,4,5,6,7,8,12,15,16,17,63])),"./fields/termsField.vue":()=>__vitePreload(()=>import("./termsField-MSQLFJCc.js"),__vite__mapDeps([64,11,2,3,1,4,5,6,7,8,12,15,16,17,65])),"./fields/textEditorField.vue":()=>__vitePreload(()=>import("./textEditorField-dwCvQNfp.js"),__vite__mapDeps([66,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/textField.vue":()=>__vitePreload(()=>import("./textField-D6ddCZDC.js"),__vite__mapDeps([67,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/textareaField.vue":()=>__vitePreload(()=>import("./textareaField-xrAnlNXA.js"),__vite__mapDeps([68,11,2,3,1,4,5,6,7,8,12,15,16,17])),"./fields/toggleField.vue":()=>__vitePreload(()=>import("./toggleField-BZY9s3eD.js"),__vite__mapDeps([69,11,2,3,1,4,5,6,7,8,12,70,14,71,15,16,17])),"./fields/videoField.vue":()=>__vitePreload(()=>import("./videoField-CSEEkSxQ.js"),__vite__mapDeps([72,11,2,3,1,4,5,6,7,8,12,15,16,17]))}),`./fields/${_}Field.vue`,3).then(v=>t.value=v.default).catch(v=>console.log(v))}const{type:r}=o.fieldData,s=()=>r=="divider"&&o.fieldData.section?"section":r=="row"?["field-row-full","inline-fields"]:r=="hidden"?"hidden":[`field-row-${get(o.fieldData,"width","full")}`,get(o.fieldData,"customClass","")];return(_,v)=>unref(a)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(s())},[(openBlock(),createBlock(resolveDynamicComponent(unref(t)),{"form-id":e.formId,data:e.fieldData,path:e.dataPath},null,8,["form-id","data","path"]))],2)):createCommentVNode("",!0)}},_hoisted_1$1={class:"mx-2"},_hoisted_2$1={class:"ml-2"},_sfc_main$2={__name:"Localizations",props:{localizations:Object,formId:String,resourceUrl:String},setup(e){const o=e,t=useRouter(),a=useResourceForm(o.formId),r=computed(()=>{let{localizations:n}=o;return Object.values(n).filter(p=>p.origin!==null)[0].origin}),s=Object.values(o.localizations).filter(n=>n.current)[0].iso,_=n=>n.origin?"Original":n.current?"Current translation":`${n.translation?"Edit":"Create"} ${n.name} translation`,v=n=>{console.log("i have this.",n);let p=n.translation?n.translation:n.origin?n.origin:null,c=a.settings.handle;if(p){let l=t.resolve({name:"resourceEdit",params:{id:p,handle:c}});window.location.href=`${l.href}?locale=${n.iso}`}else Invicta.fetch.post(`/api/resource/${c}/${r.value}/localize/${n.iso}`).then(l=>{console.log("I have created localized version of this page",l);let d=t.resolve({name:"resourceEdit",params:{id:l,handle:c}});window.location.href=d.href})};return(n,p)=>{const c=_sfc_main$e,l=_sfc_main$f,d=ElButton,y=ElDropdownItem,R=ElDropdownMenu,b=ElDropdown;return openBlock(),createBlock(b,{class:"mr-4",onCommand:v},{dropdown:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.localizations,f=>(openBlock(),createElementBlock(Fragment,{key:f.iso},[f.current?createCommentVNode("",!0):(openBlock(),createBlock(y,{key:0,command:f,title:_(f)},{default:withCtx(()=>[f.translation||f.origin?(openBlock(),createBlock(c,{key:0,icon:unref(mdiTextBoxEditOutline),width:18,class:"opacity-50"},null,8,["icon"])):(openBlock(),createBlock(c,{key:1,icon:unref(mdiPlus),width:18},null,8,["icon"])),createBaseVNode("span",_hoisted_2$1,toDisplayString(f.name),1)]),_:2},1032,["command","title"]))],64))),128))]),_:1})]),default:withCtx(()=>[createVNode(d,{size:"small",text:"",type:"info"},{default:withCtx(()=>[createVNode(c,{icon:unref(mdiTranslate),width:15},null,8,["icon"]),p[0]||(p[0]=createTextVNode()),createBaseVNode("span",_hoisted_1$1,toDisplayString(e.localizations[unref(s)].name),1),createVNode(l,{country:e.localizations[unref(s)].flag},null,8,["country"])]),_:1,__:[0]})]),_:1})}}},_sfc_main$1={__name:"BackLink",props:{data:Object},setup(e){return(o,t)=>{const a=ElIcon,r=resolveComponent("router-link");return openBlock(),createBlock(r,{to:e.data,class:"breadcrumb"},{default:withCtx(()=>[createVNode(a,null,{default:withCtx(()=>[createVNode(unref(arrow_left_default))]),_:1}),createTextVNode(" "+toDisplayString(e.data.text),1)]),_:1},8,["to"])}}},_hoisted_1={key:0,class:"flex items-end justify-between mb-4"},_hoisted_2={class:"resource-title"},_hoisted_3={class:"mb-1"},_hoisted_4=["href"],_hoisted_5=["innerHTML"],_hoisted_6=["innerHTML"],_hoisted_7={class:"resource-actions flex items-center ml-auto"},_hoisted_8={class:"unsaved-indicator"},_hoisted_9={key:0,class:"fieldset"},_hoisted_10={key:1},_hoisted_11={key:0,class:"fieldset"},_hoisted_12={key:0,class:"sidebar"},_hoisted_13={key:0,class:"fieldset"},_sfc_main={__name:"FormBase",props:{formId:String,resource:Object,breadcrumb:Object,actionUrl:String,headless:{type:Boolean,default:!1},postSubmitActions:{type:Array,default:["back","edit","create"]},params:Object,readOnly:{type:Boolean,default:!1},pageForm:{type:Boolean,default:!1}},emits:["submitted","form-ready"],setup(e,{emit:o}){const t=e,a=o,r=useResourceForm(t.formId);r.readOnly=t.readOnly;const{resource:s,actionUrl:_,params:v}=t;r.init(s,_,v),a("form-ready"),onBeforeRouteLeave((g,w)=>{if(console.log("trying to leave",r.isDirty),r.isDirty.value&&!window.confirm("Do you really want to leave? you have unsaved changes!"))return!1}),Invicta.on("lock-form",g=>{console.log("I hear a call to lock form",g,t.formId),g==t.formId&&(r.data.readOnly=!0)}),Invicta.on("unlock-form",g=>{g==t.formId&&(r.data.readOnly=!1)});const n=r.settings.blueprint,p=get(n.settings,"form",{"label-position":"top"}),c=has(n,"sections");let l=ref(null),d=null;c&&n.sections.length&&("tabs"in n.settings?(l.value="active"in n.settings.tabs?n.settings.tabs.active:n.sections[0].id,d="type"in n.settings.tabs?n.settings.tabs.type:"border-card"):l.value=n.sections[0].id);const y=has(n,"sidebar"),R=computed(()=>{let g=t.headless?"w-full":y?"w-sidebar":"w-compact";return p.class||g}),b=computed(()=>{if(t.headless)return"";let g=t.resource.meta,w=t.resource.item??null,O=g.pageTitle;return w&&g.titleField!=="id"&&g.titleField in w&&(O=get(w,g.titleField)),w&&"published"in w&&(O=`<i class="icon-status ${get(w,"published")?"success":""} mr-2"></i> ${O}`),O}),f=computed(()=>r.processing.value||!r.isDirty.value);computed(()=>t.postSubmitActions[0]);const u=ref(t.postSubmitActions[0]),i={back:{icon:arrow_left_default,button:"Save & Back",option:"Go back"},close:{icon:arrow_left_default,button:"Save & Close",option:"Close Form"},edit:{icon:arrow_down_default,button:"Save & Stay",option:"Continue Editing"},create:{icon:plus_default,button:"Save & New",option:"Add New Item"}};onMounted(()=>{if(window.location.hash.length>0){let w=window.location.hash.substr(1)||"";l.value=w}let g=Invicta.remember("post-submit-action");g&&t.postSubmitActions.includes(g)&&(u.value=g)}),watch(l,g=>{t.pageForm&&window.history.pushState(window.history.state,null,`#${g}`)}),watch(u,g=>Invicta.remember("post-submit-action",g));const P=()=>{r.submit(u.value,t.pageForm)},k=()=>a("submitted",{action:u.value});return Invicta.on("resource-form-ready",()=>console.log("form base form ready event")),Invicta.on("resource-form-submitted",k),onKeyStroke("Enter",g=>{t.headless&&(g.preventDefault(),P())}),(g,w)=>{const O=_sfc_main$1,I=_sfc_main$2,N=ElButton,V=ElRadio,T=ElRadioGroup,m=ElPopover,C=ElButtonGroup,E=_sfc_main$3,$=ElTabPane,S=ElTabs,F=ElCard,L=_sfc_main$4,D=ElForm;return openBlock(),createBlock(D,mergeProps({class:["invicta-form",unref(R)]},unref(p)),{default:withCtx(()=>[e.headless?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[e.breadcrumb?(openBlock(),createBlock(O,{key:0,class:"breadcrumb",data:e.breadcrumb},null,8,["data"])):createCommentVNode("",!0),createBaseVNode("h1",_hoisted_3,[unref(s).meta.itemUrl?(openBlock(),createElementBlock("a",{key:0,class:"flex items-center",href:unref(s).meta.itemUrl,title:"Visit URL",target:"_blank"},[createBaseVNode("span",{class:"flex items-center",innerHTML:unref(b)},null,8,_hoisted_5),w[2]||(w[2]=createBaseVNode("svg",{class:"ml-2",viewBox:"0 0 24 24",width:"22"},[createBaseVNode("path",{fill:"currentColor",d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"})],-1))],8,_hoisted_4)):(openBlock(),createElementBlock("span",{key:1,class:"flex items-center",innerHTML:unref(b)},null,8,_hoisted_6))])]),createBaseVNode("div",_hoisted_7,[unref(s).localizations?(openBlock(),createBlock(I,{key:0,localizations:unref(s).localizations,"form-id":e.formId,"resource-url":unref(s).meta.indexUrl},null,8,["localizations","form-id","resource-url"])):createCommentVNode("",!0),renderSlot(g.$slots,"form-actions"),unref(u)=="disabled"?(openBlock(),createBlock(N,{key:1,type:"primary",size:"large",onClick:P,disabled:unref(f)},{default:withCtx(()=>w[3]||(w[3]=[createTextVNode(" Save ",-1)])),_:1,__:[3]},8,["disabled"])):(openBlock(),createBlock(C,{key:2,class:"relative"},{default:withCtx(()=>[createVNode(N,{type:"primary",size:e.pageForm?"large":"default",onClick:P,disabled:unref(f)},{default:withCtx(()=>[createTextVNode(toDisplayString(i[unref(u)].button),1)]),_:1},8,["size","disabled"]),createVNode(m,{title:"After Saving",teleported:!0},{reference:withCtx(()=>[createVNode(N,{disabled:unref(f),type:"primary",size:e.pageForm?"large":"default",icon:i[unref(u)].icon},null,8,["disabled","size","icon"])]),default:withCtx(()=>[createVNode(T,{modelValue:unref(u),"onUpdate:modelValue":w[0]||(w[0]=B=>isRef(u)?u.value=B:null)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.postSubmitActions,B=>(openBlock(),createBlock(V,{value:B,label:B},{default:withCtx(()=>[createTextVNode(toDisplayString(i[B].option),1)]),_:2},1032,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),withDirectives(createBaseVNode("sup",_hoisted_8,null,512),[[vShow,unref(r).isDirty.value]])]),_:1}))])])),createBaseVNode("div",{class:normalizeClass(["form-wrapper",{card:unref(d)=="card"}])},[createBaseVNode("div",{class:normalizeClass(["main-panel",{"el-card is-always-shadow":!unref(c)&&!e.headless,"has-sidebar":unref(y)}])},[unref(c)?(openBlock(),createBlock(S,mergeProps({key:0,modelValue:unref(l),"onUpdate:modelValue":w[1]||(w[1]=B=>isRef(l)?l.value=B:l=B),type:"border-card"},unref(n).settings.tabs),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).sections,B=>(openBlock(),createBlock($,{label:B.title,name:B.id},{default:withCtx(()=>[B.fields?(openBlock(),createElementBlock("div",_hoisted_9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.fields,(x,z)=>(openBlock(),createBlock(E,{"form-id":e.formId,"field-data":x,"data-path":x.id},null,8,["form-id","field-data","data-path"]))),256))])):createCommentVNode("",!0)]),_:2},1032,["label","name"]))),256))]),_:1},16,["modelValue"])):(openBlock(),createElementBlock("div",_hoisted_10,[unref(n).fields?(openBlock(),createElementBlock("div",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).fields,(B,x)=>(openBlock(),createBlock(E,{"form-id":e.formId,"field-data":B,"data-path":B.id},null,8,["form-id","field-data","data-path"]))),256))])):createCommentVNode("",!0)]))],2),unref(y)?(openBlock(),createElementBlock("div",_hoisted_12,[createVNode(F,null,{default:withCtx(()=>[unref(n).sidebar.fields?(openBlock(),createElementBlock("div",_hoisted_13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).sidebar.fields,(B,x)=>(openBlock(),createBlock(E,{"form-id":e.formId,"field-data":B,"data-path":B.id},null,8,["form-id","field-data","data-path"]))),256))])):createCommentVNode("",!0)]),_:1})])):createCommentVNode("",!0)],2),createVNode(L,{"form-id":e.formId},null,8,["form-id"])]),_:3},16,["class"])}}};export{ElRadio as E,_sfc_main as _,_sfc_main$1 as a,useFieldCondition as b,castSlice as c,has as d,_sfc_main$3 as e,ElRadioGroup as f,getFields as g,hasUnicode as h,stringToArray as s,useResourceForm as u};

import{g as n,b as p,w as d,h as f,c as h,u as e,i as _,d as v,j as g,o as i,k as b}from"./main-4EO8dEkG.js";import{v as I}from"./loading-WRxEvg8b.js";import{_ as x}from"./FormBase-CWeYCjNU.js";import"./dropdown-menu-kAKyRoI8.js";import"./Loading-BkcZucHr.js";import"./event-BB_Ol6Sd.js";import"./vnode-DGtHscmP.js";import"./isString-DJiYudTZ.js";import"./card-DywM3t6B.js";const y={class:"py-6 px-10"},k=!1,F=Object.assign({beforeRouteEnter:async function(r){let o=await Invicta.fetch.get(`api${r.path}`,{params:r.query});r.meta.data=o}},{__name:"ResourceEdit",props:{data:null|Object},setup(r){const o=r,a=b(),s=n(!1),t=n(o.data);Invicta.user,n([]);const m=p(()=>`resource/${a.params.handle}/${a.params.id||"create"}`);return d(()=>a.params.handle+a.params.id,()=>{console.log("I see params change"),s.value=!0,t.value=null,Invicta.fetch.get(`api${a.path}`).then(c=>{t.value=c,s.value=!1})}),f(()=>{}),(c,$)=>{const u=x,l=I;return i(),h("div",y,[e(t)?_((i(),v(u,{key:0,"form-id":e(m),resource:e(t),"action-url":e(t).meta.actionUrl,breadcrumb:{name:"resourceIndex",params:{handle:e(a).params.handle},text:e(t).meta.indexTitle},"read-only":k,"page-form":!0},null,8,["form-id","resource","action-url","breadcrumb"])),[[l,e(s)]]):g("",!0)])}}});export{F as default};

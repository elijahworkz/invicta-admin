import{_ as B}from"./FieldBase-Dq9lo7vr.js";import{g as c,o as n,d as f,B as v,l as I,aP as h,u as t,ag as A,c as x,G as E,W as O,j as R}from"./main-BIf-RZjU.js";import{r as S,s as j}from"./dropdown-menu-C1dIOVFB.js";import{u as C}from"./FormBase-CFvT8CJq.js";import{u as D}from"./field-BinNoQiY.js";import"./Loading-CT6fVT7q.js";import"./event-BB_Ol6Sd.js";import"./vnode-d-qQz3m-.js";import"./isString-t2uniiFv.js";import"./card-DaImxt5C.js";const z={__name:"selectField",props:{formId:String,data:Object,path:String},setup(l){var u;const e=l,o=c(!1),i=C(e.formId),d=D(e),s=d.value(),a=c([]),F=e.data.valueField||"value",_=e.data.labelField||"label";Array.isArray(e.data.options)?(a.value=e.data.options,o.value=!0):(u=e.data.props)!=null&&u.remote||(a.value=i.remoteData.get(e.data.options),Array.isArray(a.value)?o.value=!0:Invicta.on(e.data.options,()=>{a.value=i.remoteData.get(e.data.options),o.value=!0}));function g(){Invicta.fetch.get(e.data.options).then(({data:m})=>{a.value=m,o.value=!0})}return(m,p)=>{const y=S,b=j,k=B;return n(),f(k,{"form-id":l.formId,"field-props":e},{default:v(()=>[I(b,h({modelValue:t(s),"onUpdate:modelValue":p[0]||(p[0]=r=>A(s)?s.value=r:null)},l.data.props,{"value-key":l.data.valueKey||null,teleported:!1,"remote-method":g,disabled:t(d).disabled}),{default:v(()=>[t(o)?(n(!0),x(E,{key:0},O(t(a),(r,V)=>(n(),f(y,{key:V,value:r[t(F)],label:r[t(_)]},null,8,["value","label"]))),128)):R("",!0)]),_:1},16,["modelValue","value-key","disabled"])]),_:1},8,["form-id","field-props"])}}};export{z as default};

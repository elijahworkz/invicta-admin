import{A as J,av as xe,m as Je,au as Qe,aS as Y,bZ as Te,aE as qe,ab as ne,b as y,cX as et,b0 as De,ar as X,g as O,w as Z,u as n,cj as se,bK as Ie,cY as tt,aa as V,s as Be,bC as ot,v as nt,aG as st,aH as at,az as lt,aA as rt,x as Ne,b$ as it,cZ as ut,c_ as dt,c$ as ct,aU as pt,aJ as Ae,h as ft,z as vt,o as m,c as w,j as g,G as ae,C as E,D as F,a as R,d as x,B,r as U,E as H,aP as ze,l as mt,bz as yt,aD as ht,bJ as bt,t as W,Q as Le,K as gt,ae as Re,L as Et,bt as le,at as re}from"./main-4EO8dEkG.js";import{U as ie,I as Ve,C as ke}from"./event-BB_Ol6Sd.js";let G;const Yt=e=>{var l;if(!J)return 0;if(G!==void 0)return G;const s=document.createElement("div");s.className=`${e}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const o=s.offsetWidth;s.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",s.appendChild(r);const u=r.offsetWidth;return(l=s.parentNode)==null||l.removeChild(s),G=o-u,G};function Ft(e,l){if(!J)return;if(!l){e.scrollTop=0;return}const s=[];let o=l.offsetParent;for(;o!==null&&e!==o&&e.contains(o);)s.push(o),o=o.offsetParent;const r=l.offsetTop+s.reduce((i,h)=>i+h.offsetTop,0),u=r+l.offsetHeight,d=e.scrollTop,c=d+e.clientHeight;r<d?e.scrollTop=r:u>c&&(e.scrollTop=u-e.clientHeight)}const St=()=>J&&/firefox/i.test(window.navigator.userAgent);let S;const wt={height:"0",visibility:"hidden",overflow:St()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Ct=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function xt(e){const l=window.getComputedStyle(e),s=l.getPropertyValue("box-sizing"),o=Number.parseFloat(l.getPropertyValue("padding-bottom"))+Number.parseFloat(l.getPropertyValue("padding-top")),r=Number.parseFloat(l.getPropertyValue("border-bottom-width"))+Number.parseFloat(l.getPropertyValue("border-top-width"));return{contextStyle:Ct.map(d=>[d,l.getPropertyValue(d)]),paddingSize:o,borderSize:r,boxSizing:s}}function Me(e,l=1,s){var o;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:r,borderSize:u,boxSizing:d,contextStyle:c}=xt(e);c.forEach(([b,T])=>S==null?void 0:S.style.setProperty(b,T)),Object.entries(wt).forEach(([b,T])=>S==null?void 0:S.style.setProperty(b,T,"important")),S.value=e.value||e.placeholder||"";let i=S.scrollHeight;const h={};d==="border-box"?i=i+u:d==="content-box"&&(i=i-r),S.value="";const v=S.scrollHeight-r;if(xe(l)){let b=v*l;d==="border-box"&&(b=b+r+u),i=Math.max(b,i),h.minHeight=`${b}px`}if(xe(s)){let b=v*s;d==="border-box"&&(b=b+r+u),i=Math.min(b,i)}return h.height=`${i}px`,(o=S.parentNode)==null||o.removeChild(S),S=void 0,h}const Tt=e=>e,It=Je({id:{type:String,default:void 0},size:Qe,disabled:Boolean,modelValue:{type:Y([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Y([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Te},prefixIcon:{type:Te},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Y([Object,Array,String]),default:()=>Tt({})},autofocus:Boolean,rows:{type:Number,default:2},...qe(["ariaLabel"]),inputmode:{type:Y(String),default:void 0},name:String}),Nt={[ie]:e=>ne(e),input:e=>ne(e),change:e=>ne(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},At=["class","style"],zt=/^on[A-Z]/,Lt=(e={})=>{const{excludeListeners:l=!1,excludeKeys:s}=e,o=y(()=>((s==null?void 0:s.value)||[]).concat(At)),r=De();return r?y(()=>{var u;return et(Object.entries((u=r.proxy)==null?void 0:u.$attrs).filter(([d])=>!o.value.includes(d)&&!(l&&zt.test(d))))}):y(()=>({}))};function Rt(e,{disabled:l,beforeFocus:s,afterFocus:o,beforeBlur:r,afterBlur:u}={}){const d=De(),{emit:c}=d,i=X(),h=O(!1),v=f=>{const a=Ie(s)?s(f):!1;n(l)||h.value||a||(h.value=!0,c("focus",f),o==null||o())},b=f=>{var a;const I=Ie(r)?r(f):!1;n(l)||f.relatedTarget&&((a=i.value)!=null&&a.contains(f.relatedTarget))||I||(h.value=!1,c("blur",f),u==null||u())},T=f=>{var a,I;n(l)||tt(f.target)||(a=i.value)!=null&&a.contains(document.activeElement)&&i.value!==document.activeElement||(I=e.value)==null||I.focus()};return Z([i,()=>n(l)],([f,a])=>{f&&(a?f.removeAttribute("tabindex"):f.setAttribute("tabindex","-1"))}),se(i,"focus",v,!0),se(i,"blur",b,!0),se(i,"click",T,!0),{isFocused:h,wrapperRef:i,handleFocus:v,handleBlur:b}}const Vt=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function kt({afterComposition:e,emit:l}){const s=O(!1),o=c=>{l==null||l("compositionstart",c),s.value=!0},r=c=>{var i;l==null||l("compositionupdate",c);const h=(i=c.target)==null?void 0:i.value,v=h[h.length-1]||"";s.value=!Vt(v)},u=c=>{l==null||l("compositionend",c),s.value&&(s.value=!1,V(()=>e(c)))};return{isComposing:s,handleComposition:c=>{c.type==="compositionend"?u(c):r(c)},handleCompositionStart:o,handleCompositionUpdate:r,handleCompositionEnd:u}}function Mt(e){let l;function s(){if(e.value==null)return;const{selectionStart:r,selectionEnd:u,value:d}=e.value;if(r==null||u==null)return;const c=d.slice(0,Math.max(0,r)),i=d.slice(Math.max(0,u));l={selectionStart:r,selectionEnd:u,value:d,beforeTxt:c,afterTxt:i}}function o(){if(e.value==null||l==null)return;const{value:r}=e.value,{beforeTxt:u,afterTxt:d,selectionStart:c}=l;if(u==null||d==null||c==null)return;let i=r.length;if(r.endsWith(d))i=r.length-d.length;else if(r.startsWith(u))i=u.length;else{const h=u[c-1],v=r.indexOf(h,c-1);v!==-1&&(i=v+1)}e.value.setSelectionRange(i,i)}return[s,o]}const Dt="ElInput",Bt=Be({name:Dt,inheritAttrs:!1}),Ht=Be({...Bt,props:It,emits:Nt,setup(e,{expose:l,emit:s}){const o=e,r=ot(),u=Lt(),d=nt(),c=y(()=>[o.type==="textarea"?I.b():a.b(),a.m(T.value),a.is("disabled",f.value),a.is("exceed",Ke.value),{[a.b("group")]:d.prepend||d.append,[a.m("prefix")]:d.prefix||o.prefixIcon,[a.m("suffix")]:d.suffix||o.suffixIcon||o.clearable||o.showPassword,[a.bm("suffix","password-clear")]:K.value&&ee.value,[a.b("hidden")]:o.type==="hidden"},r.class]),i=y(()=>[a.e("wrapper"),a.is("focus",q.value)]),{form:h,formItem:v}=st(),{inputId:b}=at(o,{formItemContext:v}),T=lt(),f=rt(),a=Ne("input"),I=Ne("textarea"),_=X(),C=X(),Q=O(!1),P=O(!1),ue=O(),$=X(o.inputStyle),A=y(()=>_.value||C.value),{wrapperRef:He,isFocused:q,handleFocus:Oe,handleBlur:_e}=Rt(A,{disabled:f,afterBlur(){var t;o.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"blur").catch(p=>Ae()))}}),de=y(()=>{var t;return(t=h==null?void 0:h.statusIcon)!=null?t:!1}),k=y(()=>(v==null?void 0:v.validateState)||""),ce=y(()=>k.value&&it[k.value]),Pe=y(()=>P.value?ut:dt),$e=y(()=>[r.style]),pe=y(()=>[o.inputStyle,$.value,{resize:o.resize}]),N=y(()=>ct(o.modelValue)?"":String(o.modelValue)),K=y(()=>o.clearable&&!f.value&&!o.readonly&&!!N.value&&(q.value||Q.value)),ee=y(()=>o.showPassword&&!f.value&&!!N.value),z=y(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!f.value&&!o.readonly&&!o.showPassword),te=y(()=>N.value.length),Ke=y(()=>!!z.value&&te.value>Number(o.maxlength)),Ye=y(()=>!!d.suffix||!!o.suffixIcon||K.value||o.showPassword||z.value||!!k.value&&de.value),[fe,ve]=Mt(_);pt(C,t=>{if(Fe(),!z.value||o.resize!=="both")return;const p=t[0],{width:L}=p.contentRect;ue.value={right:`calc(100% - ${L+15+6}px)`}});const M=()=>{const{type:t,autosize:p}=o;if(!(!J||t!=="textarea"||!C.value))if(p){const L=Re(p)?p.minRows:void 0,we=Re(p)?p.maxRows:void 0,Ce=Me(C.value,L,we);$.value={overflowY:"hidden",...Ce},V(()=>{C.value.offsetHeight,$.value=Ce})}else $.value={minHeight:Me(C.value).minHeight}},Fe=(t=>{let p=!1;return()=>{var L;if(p||!o.autosize)return;((L=C.value)==null?void 0:L.offsetParent)===null||(t(),p=!0)}})(M),D=()=>{const t=A.value,p=o.formatter?o.formatter(N.value):N.value;!t||t.value===p||(t.value=p)},oe=async t=>{fe();let{value:p}=t.target;if(o.formatter&&o.parser&&(p=o.parser(p)),!ye.value){if(p===N.value){D();return}s(ie,p),s(Ve,p),await V(),D(),ve()}},me=t=>{let{value:p}=t.target;o.formatter&&o.parser&&(p=o.parser(p)),s(ke,p)},{isComposing:ye,handleCompositionStart:he,handleCompositionUpdate:be,handleCompositionEnd:ge}=kt({emit:s,afterComposition:oe}),Ue=()=>{fe(),P.value=!P.value,setTimeout(ve)},We=()=>{var t;return(t=A.value)==null?void 0:t.focus()},Ge=()=>{var t;return(t=A.value)==null?void 0:t.blur()},je=t=>{Q.value=!1,s("mouseleave",t)},Xe=t=>{Q.value=!0,s("mouseenter",t)},Ee=t=>{s("keydown",t)},Ze=()=>{var t;(t=A.value)==null||t.select()},Se=()=>{s(ie,""),s(ke,""),s("clear"),s(Ve,"")};return Z(()=>o.modelValue,()=>{var t;V(()=>M()),o.validateEvent&&((t=v==null?void 0:v.validate)==null||t.call(v,"change").catch(p=>Ae()))}),Z(N,()=>D()),Z(()=>o.type,async()=>{await V(),D(),M()}),ft(()=>{!o.formatter&&o.parser,D(),V(M)}),l({input:_,textarea:C,ref:A,textareaStyle:pe,autosize:vt(o,"autosize"),isComposing:ye,focus:We,blur:Ge,select:Ze,clear:Se,resizeTextarea:M}),(t,p)=>(m(),w("div",{class:E([n(c),{[n(a).bm("group","append")]:t.$slots.append,[n(a).bm("group","prepend")]:t.$slots.prepend}]),style:Le(n($e)),onMouseenter:Xe,onMouseleave:je},[g(" input "),t.type!=="textarea"?(m(),w(ae,{key:0},[g(" prepend slot "),t.$slots.prepend?(m(),w("div",{key:0,class:E(n(a).be("group","prepend"))},[F(t.$slots,"prepend")],2)):g("v-if",!0),R("div",{ref_key:"wrapperRef",ref:He,class:E(n(i))},[g(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),w("span",{key:0,class:E(n(a).e("prefix"))},[R("span",{class:E(n(a).e("prefix-inner"))},[F(t.$slots,"prefix"),t.prefixIcon?(m(),x(n(H),{key:0,class:E(n(a).e("icon"))},{default:B(()=>[(m(),x(U(t.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),R("input",ze({id:n(b),ref_key:"input",ref:_,class:n(a).e("inner")},n(u),{name:t.name,minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?P.value?"text":"password":t.type,disabled:n(f),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,inputmode:t.inputmode,onCompositionstart:n(he),onCompositionupdate:n(be),onCompositionend:n(ge),onInput:oe,onChange:me,onKeydown:Ee}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),g(" suffix slot "),n(Ye)?(m(),w("span",{key:1,class:E(n(a).e("suffix"))},[R("span",{class:E(n(a).e("suffix-inner"))},[!n(K)||!n(ee)||!n(z)?(m(),w(ae,{key:0},[F(t.$slots,"suffix"),t.suffixIcon?(m(),x(n(H),{key:0,class:E(n(a).e("icon"))},{default:B(()=>[(m(),x(U(t.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),n(K)?(m(),x(n(H),{key:1,class:E([n(a).e("icon"),n(a).e("clear")]),onMousedown:ht(n(bt),["prevent"]),onClick:Se},{default:B(()=>[mt(n(yt))]),_:1},8,["class","onMousedown"])):g("v-if",!0),n(ee)?(m(),x(n(H),{key:2,class:E([n(a).e("icon"),n(a).e("password")]),onClick:Ue},{default:B(()=>[(m(),x(U(n(Pe))))]),_:1},8,["class"])):g("v-if",!0),n(z)?(m(),w("span",{key:3,class:E(n(a).e("count"))},[R("span",{class:E(n(a).e("count-inner"))},W(n(te))+" / "+W(t.maxlength),3)],2)):g("v-if",!0),n(k)&&n(ce)&&n(de)?(m(),x(n(H),{key:4,class:E([n(a).e("icon"),n(a).e("validateIcon"),n(a).is("loading",n(k)==="validating")])},{default:B(()=>[(m(),x(U(n(ce))))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),t.$slots.append?(m(),w("div",{key:1,class:E(n(a).be("group","append"))},[F(t.$slots,"append")],2)):g("v-if",!0)],64)):(m(),w(ae,{key:1},[g(" textarea "),R("textarea",ze({id:n(b),ref_key:"textarea",ref:C,class:[n(I).e("inner"),n(a).is("focus",n(q))]},n(u),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:n(f),readonly:t.readonly,autocomplete:t.autocomplete,style:n(pe),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:n(he),onCompositionupdate:n(be),onCompositionend:n(ge),onInput:oe,onFocus:n(Oe),onBlur:n(_e),onChange:me,onKeydown:Ee}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),n(z)?(m(),w("span",{key:0,style:Le(ue.value),class:E(n(a).e("count"))},W(n(te))+" / "+W(t.maxlength),7)):g("v-if",!0)],64))],38))}});var Ot=gt(Ht,[["__file","input.vue"]]);const Ut=Et(Ot);var _t=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(_t||{});const j=e=>{const l=le(e)?e:[e],s=[];return l.forEach(o=>{var r;le(o)?s.push(...j(o)):re(o)&&((r=o.component)!=null&&r.subTree)?s.push(o,...j(o.component.subTree)):re(o)&&le(o.children)?s.push(...j(o.children)):re(o)&&o.shapeFlag===2?s.push(...j(o.type())):s.push(o)}),s};export{Ut as E,_t as P,Rt as a,kt as b,j as f,Yt as g,Tt as m,Ft as s,Lt as u};
